# vim: set ft=yaml :


# To learn more about pre-commit, please see:
#
#   https://pre-commit.com
#   https://pre-commit.com/hooks.html

minimum_pre_commit_version: '3.7.1'

default_language_version:
  python: 'python3.12'

repos:

  - repo: 'https://github.com/astral-sh/ruff-pre-commit'
    rev: 'v0.4.8'
    hooks:
      - id: 'ruff'
        args:
          - '--fix'
        stages:
          - 'commit'
      - id: 'ruff-format'
        stages:
          - 'commit'

  - repo: 'https://github.com/sqlfluff/sqlfluff'
    rev: '3.0.7'
    hooks:
      - id: 'sqlfluff-fix'
        stages:
          - 'commit'
        additional_dependencies:
          - 'dbt-core==1.8.2'
          - 'dbt-duckdb==1.8.1'
          - 'dbt-metricflow==0.7.0'
          - 'sqlfluff-templater-dbt==3.0.7'

  - repo: 'https://github.com/pre-commit/pre-commit-hooks'
    rev: 'v4.6.0'
    hooks:
      - id: 'check-case-conflict'
        stages:
          - 'commit'
      - id: 'check-json'
        stages:
          - 'commit'
      - id: 'check-symlinks'
        stages:
          - 'commit'
      - id: 'check-toml'
        stages:
          - 'commit'
      - id: 'check-vcs-permalinks'
        stages:
          - 'commit'
      - id: 'check-yaml'
        stages:
          - 'commit'
      - id: 'debug-statements'
        stages:
          - 'commit'
      - id: 'destroyed-symlinks'
        stages:
          - 'commit'
      - id: 'end-of-file-fixer'
        stages:
          - 'commit'
      - id: 'fix-byte-order-marker'
        stages:
          - 'commit'
      - id: 'trailing-whitespace'
        args:
          - '--markdown-linebreak-ext=md'
        stages:
          - 'commit'
